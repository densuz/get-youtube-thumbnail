<!DOCTYPE html>
<html>
<head>

	<!-- Get Thumbnail Youtube By URL (https://github.com/djuliar/get-youtube-thumbnail)
	Created by Djuliar (https://github.com/djuliar/)
 	Copyright 2019
 	Licensed under MIT (https://github.com/djuliar/get-youtube-thumbnail/blob/master/LICENSE) -->

	<title>View Thumbnail Youtube</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
	<main role="main" class="container">
		<div class="jumbotron mt-5 mt-sm-3">
		<h1 class="font-weight-bold">Get Thumbnail Youtube By URL</h1>
		<p class="lead">Copy and Paste Youtube URL to Textbox and select the thumbnail resolution.</p>
		</div>

		<form action="">
			<div class="form-group text-center">
    			<label for="link" class="font-weight-bold">Youtube URL</label>
				<input type="text" name="link" id="link" class="form-control" placeholder="Paste Youtube URL here" style="text-align: center">
			</div>
			<div class="form-group text-center">
				<input type="radio" name="res" class="res" value="maxresdefault" checked=""> Max Resolution 
				<input type="radio" name="res" class="res" value="sddefault"> Standart 
				<input type="radio" name="res" class="res" value="hqdefault"> High 
				<input type="radio" name="res" class="res" value="mqdefault"> Medium 
				<input type="radio" name="res" class="res" value="default"> Default 
			</div>
		</form>
		<div id="pic" class="mt-3 mb-5 text-center"></div>
	</main>

	<script>
		link.addEventListener("input", function (e) {
			e.preventDefault();
			loadImages();
		});

		var classname = document.getElementsByClassName("res");

		Array.from(classname).forEach(function(element) {
      		element.addEventListener('change', function(e){
      			e.preventDefault();
				loadImages();	
      		});
    	});

		function loadImages(){
			var uri = document.querySelector('input[type=text]').value;
			var id = /(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/.exec(uri)[1];
			
			var formRes = document.forms[0];
			var res = "";
			var i;
			for (i = 0; i < formRes.length; i++) {
				if (formRes[i].checked) {
				  res = res + formRes[i].value;
				}
			}

			document.getElementById("pic").innerHTML = 
			"<div class='alert alert-primary' role='alert'><strong>Image URL :</strong> https://i.ytimg.com/vi/" + id + "/" + res + ".jpg</div>" +
			"<img src='https://i.ytimg.com/vi/" + id + "/" + res + ".jpg' alt='&nbsp;' class='img-fluid img-thumbnail'>";
		}
	</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>
